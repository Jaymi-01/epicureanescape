rules_version = '2';
    
     service cloud.firestore {
       match /databases/{database}/documents {
    
         // Reservations
         match /reservations/{reservation} {
       allow create: if true;
       allow read, update, delete: if request.auth != null;
        }
   
        // Subscribers
        match /subscribers/{subscriber} {
          allow create: if true;
          allow read, update, delete: if request.auth != null;
        }
   
        // Menu
        match /menu/{item} {
          allow read: if true;
          allow write: if request.auth != null;
        }
        
        // Guests (CRM)
        match /guests/{guest} {
          allow read, write: if request.auth != null;
        }

        
         // Waitlist
        match /waitlist/{entry} {
          allow create: if true;
          allow read, delete: if request.auth != null;
        }
   
        // Settings (Calendar Blocking & Global Alerts)
        match /settings/{doc} {
          // Public needs to read blocked dates and global alert status
          allow read: if true;
   
          // Only admin can update settings
          allow write: if request.auth != null;
        }
      }
    }
